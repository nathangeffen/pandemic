<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Pandemic</title>
        <meta name="description" content="Simulate an infectious disease">
        <meta name="author" content="Nathan Geffen">
        <link rel="stylesheet"
              href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
              integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
              crossorigin="anonymous">

        <link rel="stylesheet" href="css/styles.css?v=1.0">
    </head>

    <body>

        <div class="jumbotron text-center">
            <h1>Model a pandemic</h1>
        </div>

        <div class="container">

            <div class="row">
                <div class="col-lg-6 col-md-12 pane pane-left">
                    <div class="mx-auto"
                         style="text-align:center;">
                        <button id="simulate-button"
                                class="btn btn-primary">
                            Simulate
                        </button>
                        <button id="reset-button"
                                class="btn btn-primary disabled">
                            Reset
                        </button>
                    </div>
                    <div class="accordion"
                         id="parameter-form-accordian">

                        <div class="card">
                            <div class="card-header text-center"
                                 id="explain-card">
                                <h2 class="mb-0">
                                    <button class="btn btn-link collapsed"
                                            type="button"
                                            data-toggle="collapse"
                                            data-target="#explain"
                                            aria-expanded="false"
                                            aria-controls="explain">
                                        How this works
                                    </button>
                                </h2>
                            </div>
                            <div id="explain"
                                 class="collapse"
                                 aria-labelledby="explain-card"
                                 data-parent="#parameter-form-accordian">
                                <div class="card-body">
                                    <p>
                                        This is a simple mathematical simulation
                                        (or model) of a
                                        <a href="https://en.wikipedia.org/wiki/Pandemic">pandemic</a> or
                                        <a href="https://en.wikipedia.org/wiki/Infection">contagion</a>.
                                    </p>
                                    <p>
                                        Click the <em>Simulate</em> button to
                                        start the simulation. The graph shows
                                        the number of infections and deaths
                                        globally. The countries on the world map
                                        change colour to darker red as the
                                        number of infections in them exceeds a
                                        percentage of the population. The
                                        results panel provides the number of
                                        infections and deaths per country, and
                                        worldwide.
                                    </p>

                                    <p class="bg-warning">
                                        Please note: The data used to set the
                                        model's parameters should be considered
                                        fictitious. Don't infer anything about
                                        Covid-19 from it.
                                    </p>

                                    <p>
                                        You can modify the model's parameters to
                                        create your own model. You can load and
                                        run other models, and you can save your
                                        own models to your web browser's storage
                                        for reuse later.
                                    </p>

                                    <h2>
                                        Technical details of the model
                                    </h2>

                                    <p>
                                        This is a deterministic macro, or
                                        compartmental, model that simulates
                                        daily changes as a pathogen spreads
                                        throughout a region and then between
                                        regions. It divides part of the world up
                                        into regions (usually no more
                                        fine-grained than by country) and has
                                        the following <em>stages</em> (or
                                        compartments) per region:
                                    </p>
                                    <p>
                                        This model is very loosely based on
                                        Covid-19 but nothing about Covid-19
                                        should be inferred from it.
                                    </p>
                                    <h3>Assumptions and data sources</h3>
                                    <p> It starts off with only 10 uncontagious
                                        infections in Wuhan. In general 8% of
                                        country populations are considered
                                        susceptible, which is the average annual
                                        influenza infection rate in the US. For
                                        countries with very weak health systems,
                                        this is set to 12%.
                                    </p>
                                    <p> Travel data are from Wikipedia tourist
                                        pages. It assumes only 10% of sick
                                        people who would normally travel do
                                        so. Most countries are assumed capable
                                        of screening out 90% of sick
                                        cases. Countries with very weak health
                                        systems are considered only capable of
                                        screening 10%, with the exception of
                                        Italy which is considered to have a low
                                        screening capacity (given how Covid-19
                                        broke out there). When a country has 100
                                        ill people, travel to and from it
                                        halves. Population sizes are from
                                        Wikipedia except Wuhan which is set to
                                        90m.
                                    </p>
                                    <p>
                                        The transition rates between stages
                                        (compartments) have been set
                                        experimentally. (See the <em>Change the
                                        model</em> section.)
                                    </p>
                                    <p>
                                        You will notice that a lot of the above
                                        is very presumptious indeed. And if you
                                        look at the data in the form below, you
                                        will notice that a lot of
                                    </p>
                                    <p>
                                        In short, nearly every aspect of this
                                        model could be improved to be more
                                        realistic.
                                    </p>
                                    <h3>Parameters</h3>
                                    <h4>Regions</h4>
                                    <dl>
                                        <dt>
                                            unsusceptible
                                        </dt>
                                        <dd>
                                            The number of people who will not
                                            contract the pathogen. (If
                                            <em>lockdown</em>
                                            is set &ndash which it isn't in the
                                            default model &ndash then the
                                            unsusceptible population increases
                                            as the model progresses.)
                                        </dd>
                                        <dt>
                                            susceptible
                                        </dt>
                                        <dd>
                                            The number of people who can
                                            contract the pathogen. (If
                                            <em>lockdown</em>
                                            is set &ndash which it isn't in the
                                            default model &ndash then the
                                            susceptible population decreases as
                                            the model progresses.)
                                        </dd>
                                        <dt>
                                            uncontagious
                                        </dt>
                                        <dd>
                                            The number of infected people who
                                            are not ill and do not transmit the
                                            pathogen.
                                        </dd>
                                        <dt>
                                            contagious
                                        </dt>
                                        <dd>
                                            The number of people who are not yet
                                            ill but can transmit the pathogen.
                                        </dd>
                                        <dt>
                                            ill
                                        </dt>
                                        <dd>
                                            The number of people the pathogen
                                            has made sick. They can also
                                            transmit the pathogen.
                                        </dd>
                                        <dt>
                                            cured
                                        </dt>
                                        <dd>
                                            The number of people who were once
                                            infected who are now no longer
                                            infected. They cannot transmit the
                                            pathogen.
                                        </dd>
                                        <dt>
                                            dead
                                        </dt>
                                        <dd>
                                            The number of people who have died
                                            from the pathogen.
                                        </dd>
                                    </dl>
                                    <p>
                                        If any of the above are not specified
                                        they default to 0.
                                    </p>
                                    <h4>Transition rates</h4>
                                    <p>
                                        Each region also has a set of daily
                                        transition <em>rates</em> that determine
                                        the changes in stages (or
                                        compartments). These are:
                                    </p>
                                    <dl>
                                        <dt>
                                            avgContacts
                                        </dt>
                                        <dd>
                                            The average number of contacts a
                                            person has per day for which there
                                            is an opportunity to transmit the
                                            infection.
                                        </dd>
                                        <dt>
                                            probInfection
                                        </dt>
                                        <dd>
                                            The probability of a contagious
                                            infected person (i.e. people in the
                                            contagious or ill stages)
                                            transmitting to a susceptible
                                            contact.  This is multiplied by
                                            <em>avgContacts</em> to get the
                                            infection rate per day, which
                                            determined how many people to move
                                            from the
                                            <em>susceptible</em>
                                            compartment to the
                                            <em>uncontagious</em>
                                            one.
                                            The equations for this are:<br />
                                            beta = avgContacts * probInfection
                                            <br/>
                                            delta = X * beta * (Y / (X + Y))<br/>
                                            X -= delta<br />
                                            U += delta<br />
                                            Where:<br />
                                            X = susceptible population<br />
                                            Y = infected population less
                                            uncontagious infected population
                                            <br />
                                            U = uncontagious infected population
                                            (Everyone who is infected starts off
                                            uncontagious.)
                                        </dd>
                                        <dt>
                                            reducedContactMult, reduceAfter
                                        </dt>
                                        <dd>
                                            When a population has a certain
                                            number of ill people, quarantine
                                            measures may be implemented that
                                            reduce the average number of
                                            contacts. These two parameter are
                                            used to reflect this. If
                                            a region's ill people exceeds the
                                            value of <em>reduceAfter</em>, then
                                            <em>avgContacts</em> is reduced by
                                            multiplying it by
                                            <em>reducedContactMult</em>.
                                        </dd>
                                        <dt>
                                            probInfectionSummer, summerStart,
                                            summerDuration
                                        </dt>
                                        <dd>
                                            If the infection rate changes
                                            seasonally (e.g. influenza and
                                            coronavirus), then you can set a
                                            different infection rate for summer.
                                            <em>probInfectionSummer</em> is the
                                            probability of infection in summer.
                                            By default this is set to
                                            <em>probInfection</em>.
                                            <em>summerStart</em> is the
                                            simulation day that summer starts
                                            (this cycles every 365 days).
                                            <em>summerDuration</em> is the
                                            number of days of summer.
                                        </dd>
                                        <dt>
                                            vaccinate
                                        </dt>
                                        <dd>
                                            The rate at which people become
                                            vaccinated. This moves people from
                                            the susceptible stage to the
                                            unsusceptible one. (Set to 0.0 in
                                            this particular model but you can
                                            change it.)
                                        </dd>
                                        <dt>
                                            lockdown
                                        </dt>
                                        <dd>
                                            This rate represents
                                            isolation/quarantining/lockdown of
                                            the susceptible population once
                                            infections start in a region. This
                                            moves people from the susceptible to
                                            unsusceptible stages, only
                                            once infections in the region are
                                            greater than 1.0.
                                        </dd>
                                        <dt>
                                            uncontagious_contagious
                                        </dt>
                                        <dd>
                                            The rate at which uncontagious
                                            people move to the contagious
                                            stage.
                                        </dd>
                                        <dt>
                                            contagious_ill
                                        </dt>
                                        <dd>
                                            The rate at which people in the
                                            contagious stage move to the ill
                                            one. (Note that people in the ill
                                            stage remain as contagious as the
                                            people in the contagious stage.) If
                                            people who are not ill are not
                                            contagious in your model, set this
                                            to 1.0 so that everyone who is
                                            contagious is immediately made ill.
                                        </dd>
                                        <dt>
                                            ill_cured
                                        </dt>
                                        <dd>
                                            The rate at which people in the ill
                                            stage become cured. Cured people are
                                            neither susceptible to infection
                                            again nor contagious.
                                        </dd>
                                        <dt>
                                            ill_dead
                                        </dt>
                                        <dd>
                                            The rate at which people who are ill
                                            from the pathogen die.
                                        </dd>
                                    </dl>
                                    <p>The above are specified per region, but
                                        a default set of transition rates
                                        can also be specified so that you
                                        don't have to fill in every transition
                                        rate for every region.
                                    </p>
                                    <h4>Migrations</h4>
                                    <p>
                                        The model also accounts for daily
                                        migration between regions. A migration
                                        route is specified with these
                                        parameters:
                                    </p>
                                    <dl>
                                        <dt>
                                            from
                                        </dt>
                                        <dd>
                                            The region from which people
                                            are travelling.
                                        </dd>
                                        <dt>
                                            to
                                        </dt>
                                        <dd>
                                            The region to which people are
                                            travelling.
                                        </dd>
                                        <dt>
                                            rate
                                        </dt>
                                        <dd>
                                            The proportion of the population
                                            that migrates this way daily. (But
                                            see <em>actual</em> which
                                            may make more sense to use than
                                            this.)
                                        </dd>
                                        <dt>
                                            actual
                                        </dt>
                                        <dd>
                                            Instead of a rate, which may be tiny
                                            relative to the size of a region, an
                                            absolute or actual number of people
                                            who migrate in this direction daily
                                            can be specified.<br/>
                                            Specify <em>actual</em> or
                                            <em>rate</em>, not both.
                                        </dd>
                                        <dt>
                                            screening
                                        </dt>
                                        <dd>
                                            This is a measure of how effective
                                            the <em>to</em> country is at
                                            preventing infected people from
                                            entering it. A value of 1.0 means it
                                            is 100% effective. 0 means it is
                                            taking no effective measures against
                                            allowing infected people in.
                                        </dd>
                                        <dt>
                                            illCorrection
                                        </dt>
                                        <dd>
                                            Ill people are presumably less
                                            likely to travel. This is a rate
                                            between 0.0 and 1.0 to multiply the
                                            calculated number of ill people
                                            scheduled to travel by. So, for
                                            example, if it is set to 1.0, the
                                            number of ill people who travel this
                                            migration route is proportional to
                                            their share of the population
                                            travelling. But if set to 0.0, then
                                            no ill people travel. In the default
                                            model we've set this to 0.1,
                                            i.e. 10% of ill people who would
                                            have travelled, actually do so.
                                        </dd>
                                        <dt>
                                            symmetrical
                                        </dt>
                                        <dd>
                                            This is an optional shortcut for
                                            specifying the migration route in
                                            reverse (e.g. from the <em>to</em>
                                            region back to the <em>from</em>
                                            region). If you set this to 1.0 then
                                            the migration route is perfectly
                                            symmetrical between the two
                                            regions. If less than 1.0 more
                                            people travel from the <em>from</em>
                                            region to the <em>to</em> region. If
                                            greater than 1.0, more people travel
                                            the other way. By default this is
                                            0.0 and a separate migration entry
                                            would need to be specified for the
                                            reverse direction. Either set
                                            symmetrical to a non-zero value or
                                            create a separate entry for the
                                            reverse direction. Don't do
                                            both. For most models it would make
                                            sense to set symmetrical to 1.0,
                                            unless you happen to have good data
                                            showing this not to be the case.
                                        </dd>
                                        <dt>
                                            fromDetected, reducedFromTravel,
                                            toDetected, reducedToTravel
                                        </dt>
                                        <dd>
                                            Once a country is known to have an
                                            epidemic travel to and from it will
                                            likely decrease.
                                            <em>fromDetected</em> specifies the
                                            number of ill people in the
                                            <em>from</em> region there must be
                                            for this travel decrease to kick
                                            in. The decreased rate of travel is
                                            <em>reducedFromTravel</em>. The
                                            <em>toDetected</em> and
                                            <em>reducedToTravel</em> are the
                                            corresponding parameters for the
                                            <em>to</em> area.
                                        </dd>
                                    </dl>
                                    <p>
                                        Default values for the above can also be
                                        specified.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header text-center"
                                 id="parameter-form-card">
                                <h2 class="mb-0">
                                    <button class="btn btn-link collapsed"
                                            type="button"
                                            data-toggle="collapse"
                                            data-target="#collapse-parameters"
                                            aria-expanded="false"
                                            aria-controls="collapse-parameters">
                                        Change the model
                                    </button>
                                </h2>
                            </div>
                            <div id="collapse-parameters"
                                 class="collapse"
                                 aria-labelledby="parameter-form-card"
                                 data-parent="#parameter-form-accordian">
                                <div class="card-body">
                                    <div class="mx-auto"
                                         style="text-align:center;">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-6">
                                                <button
                                                    id="download-button"
                                                    class="btn btn-primary"
                                                    data-toggle="tooltip"
                                                    data-placement="top"
                                                    title="Download the model to your computer">
                                                    Save this model
                                                </button>

                                                <a id="hidden-download"
                                                   style="display: none;">
                                                </a>
                                            </div>
                                            <div class="col-xs-12 col-sm-6">
                                                <button
                                                    id="upload-button"
                                                    class="btn btn-primary"
                                                    data-toggle="tooltip"
                                                    data-placement="top"
                                                    title="Load a saved model to replace this one">
                                                    Load a saved model
                                                </button>
                                                <input
                                                    id="hidden-upload"
                                                    type="file"
                                                    style="display: none;" />
                                            </div>
                                        </div>
                                    </div>
                                    <form id="parameter-form">
                                        <div class="form-group">
                                            <label for="parameter-name">
                                                Name of this model
                                            </label>
                                            <input class="form-control"
                                                   id="parameter-name">
                                            <label for="parameter-description">
                                                Description of this model
                                            </label>
                                            <textarea class="form-control"
                                                      id="parameter-description">
                                            </textarea>

                                            <label for="parameter-iterations">
                                                Number of days to run the model
                                            </label>
                                            <input class="form-control"
                                                   id="parameter-iterations"
                                                   type="number">
                                            <label for="parameter-delay">
                                                Delay in milliseconds between
                                                days
                                            </label>
                                            <input class="form-control"
                                                   id="parameter-delay"
                                                   type="number">

                                            <h3>Complex parameters</h3>
                                            <p class="form-text text-muted">
                                                The following more complex model
                                                parameters are in
                                                <a href="https://www.json.org/json-en.html">JSON</a>
                                                format. Feel free to fiddle with
                                                them and create a new model. The
                                                worst that can happen is that you
                                                have to refresh this page.
                                            </p>


                                            <label for="parameter-regions">
                                                Regions
                                            </label>
                                            <textarea class="form-control"
                                                      id="parameter-regions"
                                                      rows="5">
                                            </textarea>
                                            <label
                                                for="parameter-transition-rates">
                                                Default transition rates per day
                                                between stages
                                            </label>
                                            <textarea
                                                class="form-control"
                                                id="parameter-transition-rates"
                                                rows="5">
                                            </textarea>
                                            <label for="parameter-migrations">
                                                Migrations
                                            </label>
                                            <textarea class="form-control"
                                                      id="parameter-migrations"
                                                      rows="5">
                                            </textarea>
                                            <label
                                                for="parameter-default-migration">
                                                Default migration
                                            </label>
                                            <textarea
                                                class="form-control"
                                                id="parameter-default-migration"
                                                rows="5">
                                            </textarea>

                                            <label for="parameter-map-name">
                                                Map
                                            </label>
                                            <input class="form-control"
                                                   id="parameter-map-name">

                                            <label for="parameter-map-regions">
                                                Mapping regions to countries
                                            </label>
                                            <textarea class="form-control"
                                                      id="parameter-map-regions"
                                                      rows="5">
                                            </textarea>
                                            <p class="form-text text-muted">
                                                To have more fine-grained control,
                                                you can have multiple regions per
                                                country. But then for the map to
                                                continue working you need to specify
                                                which regions are in which countries.
                                            </p>

                                            <label for="parameter-map-colors">
                                                Mapping infection rates to colors
                                            </label>
                                            <textarea class="form-control"
                                                      id="parameter-map-colors"
                                                      rows="5">
                                            </textarea>
                                            <p class="form-text text-muted">
                                                This determines the map colors.
                                            </p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header text-center"
                                 id="warning-covid">
                                <h2 class="mb-0">
                                    <button class="btn btn-danger collapsed"
                                            type="button"
                                            data-toggle="collapse"
                                            data-target="#collapse-covid"
                                            aria-expanded="false"
                                            aria-controls="collapse-covid">
                                        Warning: Please do not infer anything
                                        from this model about Covid-19.
                                    </button>
                                </h2>
                            </div>
                            <div id="collapse-covid"
                                 class="collapse"
                                 aria-labelledby="warning-covid"
                                 data-parent="#parameter-form-accordian">
                                <div class="card-body">
                                    This model is for illustrative purposes
                                    only. While the inspiration to do it came
                                    from Covid-19, the real-world
                                    epidemic/pandemic has far more complexity
                                    than this model accounts for. Here are just
                                    a few of its inadequacies:

                                    <ul>
                                        <li>
                                            Many of the parameters are no more
                                            than guesses. For example, data on
                                            country-to-country travel has not
                                            been properly researched for the
                                            model. Even if more accurate data
                                            was used (e.g. based on airline
                                            travel stats), there are so many
                                            unknowns: How frequently do
                                            contagious people travel? What is
                                            the infection risk on aeroplanes?
                                            How efficient is screening at each
                                            airport? What about people crossing
                                            land borders? What about
                                            undocumented crossings? Etc.
                                        </li>
                                        <li>
                                            The model does not account for
                                            people self-isolating themselves,
                                            which may have a big effect on
                                            reducing its spread.
                                        </li>
                                        <li>
                                            Variations of the virus may be
                                            spreading with differing incidence
                                            and mortality rates.
                                        </li>
                                        <li>
                                            We still do not know (as of 28
                                            February 2020) the mortality rate of
                                            the disease because there is great
                                            uncertainty about the real number of
                                            infections.
                                        </li>
                                        <li>
                                            We don't know the incidence rate for
                                            several reasons, e.g. some people
                                            who get infected only become mildly
                                            symptomatic or remain completely
                                            unsymptomatic.
                                        </li>
                                        <li>
                                            Even if the model could be adjusted
                                            to correctly estimate average
                                            incidence, the virus probably
                                            spreads in fits and starts from
                                            cluster to cluster. For example,
                                            maybe it will spread through a
                                            workplace, but then "struggle" to
                                            find new hosts.  A more accurate
                                            model would have to be much more
                                            fine-grained than the
                                            country-level. Even using large
                                            regions, e.g. the size of Wuhan,
                                            would probably only slightly improve
                                            the predictive power of a model.
                                        </li>
                                        <li>
                                            The model does not account for how
                                            likely the virus is to infect or
                                            kill people of different ages (and
                                            possibly different sexes too), or
                                            how this might differ from country
                                            to country.
                                        </li>
                                        <li>
                                            The model does not account for
                                            differences in health-care systems
                                            across countries (although it could
                                            by researching better estimates for
                                            transitions between the stages).
                                        </li>
                                        <li>
                                            The model does not account for
                                            differences in quality of health in
                                            populations across different regions
                                            or countries, for example the
                                            prevalence of diabetes (people with
                                            diabetes are currently thought to be
                                            at higher risk of death from
                                            Covid-19).
                                        </li>
                                        <li>
                                            The model does not account for the
                                            extraordinary but highly variable
                                            measures being taken in different
                                            cities/countries across the planet
                                            to control the virus's spread. As of
                                            the time of writing, there is still
                                            a reasonable possibility that
                                            Covid-19 may be brought under
                                            control before infecting millions of
                                            people.
                                        </li>
                                        <li>
                                            TECHNICAL: This is a
                                            deterministic macro model. Every
                                            time you run it with the same
                                            parameters it gives the same
                                            results. A stochastic
                                            microsimulation (or agent-based)
                                            model may or may not be more
                                            appropriate depending on a bunch of
                                            factors we don't properly understand
                                            yet.
                                        </li>
                                    </ul>
                                    <p>
                                        Nevertheless, with more research and
                                        care, a set of model parameters could be
                                        found, without modifying the code, that
                                        better estimates the spread of
                                        Coronavirus. Unfortunately I don't have
                                        the time or capacity to do that
                                        research, but if you have found a better
                                        set of parameters, please
                                        <a href="mailto:nathangeffen@gmail.com">
                                            email
                                        </a>
                                        them to me and I'll update the model.
                                    </p>
                                    <p>
                                        Also, I suspect it may be easier to
                                        develop a plausible model of some past
                                        contagion, such as the 1918 flu
                                        pandemic.
                                    </p>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header text-center"
                             id="rsa-models">
                            <h2 class="mb-0">
                                <button class="btn btn-link collapsed"
                                        type="button"
                                        data-toggle="collapse"
                                        data-target="#collapse-rsa"
                                        aria-expanded="false"
                                        aria-controls="collapse-rsa">
                                    Models of South African Covid-19 epidemic
                                </button>
                            </h2>
                        </div>

                        <div id="collapse-rsa"
                             class="collapse"
                             aria-labelledby="rsa-models"
                             data-parent="#parameter-form-accordian">
                            <div class="card-body">
                                <ul>
                                    <li>
                                        <button type="button"
                                                id="rsa-nothing-seasonal"
                                                class="btn btn-link">
                                            Do nothing scenario with lower summer infectiousness
                                        </button>
                                    </li>
                                    <li>
                                        <button type="button"
                                                id="rsa-nothing-noseasons"
                                                class="btn btn-link">
                                            Do nothing scenario with no seasonal differences
                                        </button>
                                    </li>
                                    <li>
                                        <button type="button"
                                                id="rsa-lockdown"
                                                class="btn btn-link">
                                            Lockdown with no seasonal differences
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6 pane pane-right">
                    <div id="charts">
                        <canvas id="chart" height="180px"></canvas>
                    </div>
                    <div id="mapcontainer">
                        <div class="map">
                            <span>World map showing infections</span>
                        </div>
                    </div>
                    <div>
                        <svg width="260" height="100">
                            <rect x="0" y="0" height="15" width="60"
                                  class="low-infection-rate"
                            />
                            <rect x="0" y="15" height="15" width="60"
                                  class="moderate-infection-rate"
                            />
                            <rect x="0" y="30" height="15" width="60"
                                  class="serious-infection-rate"
                            />
                            <rect x="0" y="45" height="15" width="60"
                                  class="very-serious-infection-rate"
                            />
                            <rect x="0" y="60" height="15" width="60"
                                  class="extremely-serious-infection-rate"
                            />
                            <text x="70" y="0" class="legend-text">
                                <tspan id="low" x="70" y="12">
                                </tspan>
                                <tspan id="moderate" x="70" y="27">
                                </tspan>
                                <tspan id="serious" x="70" y="42">
                                </tspan>
                                <tspan id="very-serious" x="70" y="57">
                                </tspan>
                                <tspan id="extremely-serious" x="70" y="72">
                                </tspan>
                            </text>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 pane">
                    <h3 id="results-heading">Results</h3>
                    <div class="row">
                        <div class="col-lg-6 col-md-12 pane pane-left">
                            <h3>Total</h3>
                            <div id="world-results" class="pre-scrollable">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-12 pane pane-right">
                            <h3>Regions</h3>
                            <div id="region-results" class="pre-scrollable">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <footer class="text-center">
            <p>
                &copy; Nathan Geffen 2020 under
                <a href="https://raw.githubusercontent.com/nathangeffen/pandemic/master/LICENSE">
                    MIT License
                </a>
            </p>
            <ul class="nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link" href="https://www.simhub.online/">
                        Simhub home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"
                       href="https://github.com/nathangeffen/pandemic">
                        Source code on Github
                    </a>
                </li>
            </ul>
        </footer>

        <script
            src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"
        >
        </script>
        <script
            src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"
        >
        </script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"
        >
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js">
        </script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js">
        </script>
        <script src="js/jquery.mapael.min.js"></script>
        <script src="js/world_countries.min.js"></script>
        <script src="js/south_africa.js"></script>
        <script src="js/pandemic.js?v=20200323"></script>
        <script src="js/othermodels.js?v=20200323"></script>
        <script src="js/infectionchart.js?v=20200323"></script>
        <script src="js/infectionmap.js?v=20200323"></script>
        <script src="js/simulation.js?v=20200323"></script>
        <script src="js/userinterface.js?v=20200323"></script>
    </body>
</html>
